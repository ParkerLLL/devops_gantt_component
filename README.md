# 蓝鲸DevOps甘特图组件

企业级甘特图组件，专为蓝鲸DevOps项目管理设计。采用Vue 3 + TypeScript + D3.js构建，支持大数据量渲染和丰富的交互功能。

## ✨ 核心功能

### 已完成功能 (v1.0)

- ✅ **虚拟滚动渲染** - 流畅处理1000+任务项
- ✅ **多层级数据展示** - 版本/迭代/需求/任务/缺陷树状结构
- ✅ **关键路径高亮** - 自动计算并高亮关键路径
- ✅ **依赖关系可视化** - 任务间依赖关系连线展示
- ✅ **智能筛选系统** - 部门/项目/类型多维度筛选
- ✅ **时间轴增强** - 日/周/月视图切换，清晰的时间刻度
- ✅ **显示模式切换** - 紧凑/宽松两种密度模式
- ✅ **缩放控制** - 50%-300%缩放范围，支持快捷键
- ✅ **拖拽调整** - 可拖拽调整任务列表宽度
- ✅ **智能滚动** - 点击任务自动定位到时间轴位置
- ✅ **详情弹窗** - 任务详细信息展示
- ✅ **URL跳转** - 一键跳转到源系统详情页面
- ✅ **统计面板** - 实时显示需求/任务/缺陷完成情况

### 技术特性

- 🎨 **现代化UI设计** - 苹果风格界面，流畅动画效果
- ⚡ **高性能渲染** - 虚拟滚动 + requestAnimationFrame优化
- 🔧 **完整TypeScript支持** - 类型安全，开发体验优秀
- 📱 **响应式设计** - 适配不同屏幕尺寸
- 🎯 **业务专用** - 针对DevOps项目管理场景深度定制

## 🛠 技术栈

- **Vue 3** - 响应式框架 (Composition API)
- **TypeScript** - 类型安全
- **D3.js** - 时间轴和数据可视化
- **TanStack Vue Virtual** - 虚拟滚动
- **Vite** - 构建工具
- **Pinia** - 状态管理 (如需要)

## 📊 数据结构

甘特图支持以下层级结构：
```
版本 (version)
├── 迭代 (sprint)  
│   ├── 需求 (requirement)
│   ├── 任务 (task)
│   └── 缺陷 (defect)
└── 迭代 (sprint)
    └── ...
```

## 🚀 快速开始

### 环境要求
- Node.js >= 16
- npm >= 8

### 安装和运行

```bash
# 克隆项目
git clone <repository-url>
cd devops_gantt_component

# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build

# 类型检查
npm run type-check
```

## 📡 API接口

详细的后端API接口文档请参考：[API接口文档](./docs/API接口文档.md)

### 核心接口
```typescript
GET /api/gantt/tasks

// 响应数据示例
{
  "code": 0,
  "data": [
    {
      "id": "version-bkci-3.0",
      "text": "蓝鲸CI V3.0版本", 
      "start_date": "2025-01-01",
      "end_date": "2025-06-30",
      "progress": 0.75,
      "type": "version",
      "url": "https://devops.tencent.com/ms/bkci/versions/3.0",
      "department_name": "TEG",
      "project_name": "蓝鲸持续集成平台",
      "stats": { ... },
      "children": [ ... ]
    }
  ]
}
```

## 🎛 功能使用

### 筛选功能
- **部门筛选** - 查看特定部门的版本迭代情况
- **项目筛选** - 聚焦特定项目的工作项
- **类型筛选** - 按工作项类型过滤显示

### 视图控制
- **时间视图** - 日/周/月三种粒度切换
- **显示密度** - 紧凑/宽松模式适应不同需求
- **缩放控制** - 鼠标滚轮+Ctrl快速缩放，按钮精确控制

### 交互操作
- **任务选择** - 点击任务高亮显示相关信息
- **详情查看** - 双击任务打开详情弹窗
- **快速跳转** - 详情弹窗中点击"查看"跳转源系统
- **智能导航** - 点击任务自动滚动到最佳位置

## 📁 项目结构

```
src/
├── components/          # 组件目录
│   ├── GanttChart.vue      # 主甘特图组件
│   ├── Timeline.vue        # 时间轴组件  
│   ├── TaskRow.vue         # 任务行组件
│   ├── TaskDetailsModal.vue # 任务详情弹窗
│   ├── DependencyLines.vue # 依赖关系连线
│   └── ...
├── types/               # TypeScript类型定义
├── services/            # 数据服务层
├── workers/             # Web Workers
└── ...

docs/                    # 文档目录
├── API接口文档.md          # 后端API接口规范
├── 需求PRD.md             # 产品需求文档
├── 技术方案设计.md          # 技术实现方案
└── 任务进展.md             # 开发任务进展
```

## 🔮 发展规划

### 近期计划 (v1.1)
- [ ] 甘特图导出功能 (PNG/PDF/Excel)
- [ ] 键盘导航支持
- [ ] 任务分组展示
- [ ] 时间范围选择器

### 中期规划 (v2.0)  
- [ ] 实时数据更新
- [ ] 甘特图模板系统
- [ ] 高级筛选器
- [ ] 数据分页加载

### 长期规划 (v3.0)
- [ ] 任务拖拽编辑
- [ ] 协作功能集成
- [ ] 移动端适配
- [ ] 国际化支持

## 🤝 参与贡献

1. Fork 本仓库
2. 创建功能分支 (`git checkout -b feature/amazing-feature`)
3. 提交更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 打开 Pull Request

## 📝 更新日志

### v1.0.0 (2025-01-01)
- ✨ 完整的甘特图功能实现
- ✨ 时间轴格式优化和双层显示
- ✨ 紧凑/宽松显示模式切换
- ✨ 拖拽调整列宽功能
- ✨ 智能滚动和快速缩放
- ✨ URL跳转功能
- ✨ 筛选器布局优化
- 📚 完整的API接口文档

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🔧 技术支持

如有问题或建议，请通过以下方式联系：
- 提交 GitHub Issue
- 联系开发团队
- 查看项目文档

---

**蓝鲸DevOps甘特图组件** - 让项目管理更简单、更高效！
